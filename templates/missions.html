<!DOCTYPE html>
<html lang="en" class="no-js">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
		<title>Animated Border Menus | Demo 3</title>
		<meta name="description" content="Responsive Animated Border Menus with CSS Transitions" />
		<meta name="keywords" content="navigation, menu, responsive, border, overlay, css transition" />
		<meta name="author" content="Codrops" />
		<link rel="shortcut icon" href="../favicon.ico">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
		<link rel="stylesheet" href="static/js/leaflet.contextmenu.css"/>
		<link rel="stylesheet" type="text/css" href="static/css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="static/css/table.css" />
		<link rel="stylesheet" type="text/css" href="static/css/demo.css" />
		<link rel="stylesheet" type="text/css" href="static/css/icons.css" />
		<link rel="stylesheet" type="text/css" href="static/css/style3.css" />

<script type="text/javascript" script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="static/js/gauge.js"></script>
  
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.css" />
    <script src="http://cdn.leafletjs.com/leaflet-0.7.3/leaflet.js"></script>
<style>
        #map {
            width: 100%;
            height: 500px;
        }
    </style>
 <script type="text/javascript">
        $SCRIPT_ROOT = {{request.script_root | tojson | safe}};

        function get_altitude() {
            $.getJSON($SCRIPT_ROOT + '/_add_numbers',
                function(data) {
                    $("#flight_mode").text(data.result);
                }
            )
        }
</script>
		<script src="static/js/modernizr.custom.js"></script>

	</head>
	<body>


<div class="container-fluid">
  <h1>Mission planner</h1>
  <p>Select a location in the map to instruct a GOTO:</p>
  <div class="row">
    <div class="col-sm-6">
    <div id="map"></div>
<script src="static/js/leaflet.contextmenu.js"></script>



<script>

$SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
var map,
          cm,
          ll = new L.LatLng(-36.852668, 174.762675),
          ll2 = new L.LatLng(-36.86, 174.77);
      function showCoordinates (e) {
	      alert(e.latlng);
      }
      function centerMap (e) {
	      map.panTo(e.latlng);
      }
      function ClearPin (LatLng) {
	      map.removeLayer(marker);
      }
      function GoTo (e) {
        console.log(e.latlng.lat);
        $.getJSON($SCRIPT_ROOT + '/simple_goto', {
          a: e.latlng.lat,
          b: e.latlng.lng
      }, function(data) {
        alert(data.result);
      });
      }
      function zoomOut (e) {
	      map.zoomOut();
      }
      map = L.map('map', {
	      center: ll,
	      zoom: 15,
	      contextmenu: true,
      contextmenuWidth: 140,
	      contextmenuItems: [{
		      text: 'Show coordinates',
		      callback: showCoordinates
	      }, {
		      text: 'Center map here',
		      callback: centerMap
	      }, '-', {
		      text: 'Remove Pin',
		      callback: ClearPin
	      }]
      });
	  L.tileLayer('https://api.mapbox.com/styles/v1/diamondx/cj8cqnwa00hoi2succ6j4ws0m/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiZGlhbW9uZHgiLCJhIjoiY2o4Y3FkaDBnMGYxazJxcmxnaWozY3BmayJ9.VCKI441_mo6-ArU1qUU5pg', {
		  attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
	  }).addTo(map);
      

map.on('click', function addMarker(e){
    var marker = new L.marker(e.latlng, {
          contextmenu: true,
          contextmenuItems: [{
              text: 'Go to here',
              index: 0,
              callback: GoTo
          }, {
              separator: true,
              index: 1
          }]
      }).addTo(map);
});

</script>

    </div>
    <div class="col-sm-6">

          <h1>Waypoints generators</h1>
 
  <div id="table" class="table-editable">
    <span class="table-add glyphicon glyphicon-plus"></span>
    <table class="table">
      <tr>
        <th>Command</th>
        <th>Latitude</th>
	<th>Longitude</th>
	<th>Alt</th>
        <th></th>
        <th></th>
      </tr>
      <tr>
        <td contenteditable="true">

                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Dropdown Example
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">HTML</a></li>
      <li><a href="#">CSS</a></li>
      <li><a href="#">JavaScript</a></li>
    </ul>

          </td>
        <td contenteditable="true">Lat Coords</td>
	<td contenteditable="true">long Coords</td>
	<td contenteditable="true">Alt</td>
        <td><span class="table-remove glyphicon glyphicon-remove"></span></td>
        <td>
          <span class="table-up glyphicon glyphicon-arrow-up"></span>
          <span class="table-down glyphicon glyphicon-arrow-down"></span>
        </td>
      </tr>
      <!-- This is our clonable table line -->
      <tr class="hide">
        <td contenteditable="true">

                    <button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown">Dropdown Example
    <span class="caret"></span></button>
    <ul class="dropdown-menu">
      <li><a href="#">HTML</a></li>
      <li><a href="#">CSS</a></li>
      <li><a href="#">JavaScript</a></li>
    </ul>

          </td>
          <td contenteditable="true">Untitled</td>
        <td contenteditable="true">Untitled</td>
        <td contenteditable="true">undefined</td>
        <td>
          <span class="table-remove glyphicon glyphicon-remove"></span>
        </td>
        <td>
          <span class="table-up glyphicon glyphicon-arrow-up"></span>
          <span class="table-down glyphicon glyphicon-arrow-down"></span>
        </td>
      </tr>
        <script src="static/js/table.js"></script>
    </table>
  </div>
<button id="export-btn" class="btn btn-primary">Export Data</button>
  <p id="Execute mission !"></p>

	
<nav id="bt-menu" class="bt-menu">
				<a href="#" class="bt-menu-trigger"><span>Menu</span></a>
				<ul>
					<li><a href="#" class="bt-icon icon-user-outline">About</a></li>
					<li><a href="parameters.html" class="bt-icon icon-windows">Parameters</a></li>
					<li><a href="missions.html" class="bt-icon icon-speaker">Missions</a></li>
					<li><a href="/" class="bt-icon icon-speaker">Dashboard</a></li>
					<li><a href="#" class="bt-icon icon-star">tuning</a></li>
					<li><a href="#" class="bt-icon icon-bubble">Calibration</a></li>					
				</ul>
			</nav>
		</div><!-- /container -->
	</body>
	<script src="static/js/classie.js"></script>
	<script src="static/js/borderMenu.js"></script>
</html>