<!DOCTYPE html>
<html lang="en">
<head>
<title>Bootstrap Example</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<script src="static/js/jquery-3.3.1.min.js"></script>
<meta name="csrf-token" content="IjNiNTUzMzkyNDliNGJkNjYzMDNkYjZmM2UyM2RiZWJkMTBkNzhmZmYi.DOFvSg.r0USjXt2YZKAf4_1X-txWWlJ1uM"> 
<script type="text/javascript" src="static/js/adapter.min.js" ></script>
<script type="text/javascript" src="static/js/bootstrap.min.js"></script>
<script type="text/javascript" src="static/js/nipplejs.js"></script>
<script type="text/javascript" src="static/js/nipplejs.min.js"></script>
<script type="text/javascript" src="static/js/bootbox.min.js"></script>
<script type="text/javascript" src="static/js/spin.min.js"></script>
<script type="text/javascript" src="static/js/toastr.min.js"></script>
<script src="static/js/janus.js"></script>
<script src="static/js/toggle.js"></script>
<script src="static/js/streamingtest.js"></script>


<link rel="stylesheet" href="static/css/leaflet.css" />
<script src="static/js/leaflet.js"></script>

<script src="static/js/gamepad.js"></script>
<link rel="stylesheet" type="text/css" href="static/css/cube.css" />
<link rel="stylesheet" type="text/css" href="static/css/`nipplejs.css" />
<link rel="stylesheet" type="text/css" href="static/css/joystick.css" />
<link rel="stylesheet" type="text/css" href="static/css/index.css" />
<link rel="stylesheet" type="text/css" href="static/css/dial.css" />
<link rel="stylesheet" type="text/css" href="static/css/toggle.css" />

 <script>
  $(function() {
    $(".navbar-static-top").load("navbar.html", function() {
      $(".navbar-static-top li.dropdown").addClass("active");
      $(".navbar-static-top a[href='streamingtest.html']").parent().addClass("active");
    });
    $(".footer").load("footer.html");
  });
</script>
 <link rel="stylesheet" href="static/css/bootstrap.min.css" type="text/css"/>
<link rel="stylesheet" href="static/css/demo.css" type="text/css"/>
<link rel="stylesheet" href="static/css/font-awesome.min.css" type="text/css"/>
<link rel="stylesheet" href="static/css/toastr.css"/>
<script src="static/js/three.min.js"></script>
<link rel="shortcut icon" href="../favicon.ico">


 <script type="text/javascript">
        $SCRIPT_ROOT = "";
</script>



  <style>
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
    }
    
    /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
    .row.content {height: 450px}
    
    /* Set gray background color and 100% height */
    .sidenav {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
    }
    
    /* Set black background color, white text and some padding */
    footer {
      background-color: #555;
      color: white;
      padding: 15px;
    }
    
    /* On small screens, set height to 'auto' for sidenav and grid */
    @media screen and (max-width: 767px) {
      .sidenav {
        height: auto;
        padding: 15px;
      }
      .row.content {height:auto;} 
    }

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    * {
      box-sizing: border-box;
    }

    /* Create two equal columns that floats next to each other */

    .column {
      float: left;
      width: 20%;
      padding: 10px;
      position: relative;
    }

    /* Clear floats after the columns */

    .row:after {
      content: "";
      display: table;
      clear: both;
    }
  </style>
</head>
<body>

<nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>                        
      </button>
      <a class="navbar-brand" href="#">Logo</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li class="active"><a href="#">Home</a></li>
        <li><a href="#">About</a></li>
        <li><a href="#">Projects</a></li>
        <li><a href="#">Contact</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      </ul>
    </div>
  </div>
</nav>
  
<div class="container-fluid text-center">    
  <div class="row content">

    <div class="col-sm-2">
      
                  <p id="text" style="display:none">Checkbox is CHECKED!</p>
          		  <h2>RC control</h2>
                <div class="check-ali">
                  <input type="checkbox" id="autoupdate" unchecked">
                </div>

                <div class="touch-joystick">
                  <div id="left"></div>
                                      
                                      <script src="/static/js/nipplejs.js" charset="utf-8"></script>
                                      <script>
                                      var joystickL = nipplejs.create({
                                          zone: document.getElementById('left'),
                                          mode: 'static',
                                          position: { left: '20%', top: '50%' },
                                          color: 'green',
                                          size: 200
                                         
                                      });
                                      </script>


                </div>
  
                                                




                                                          



                
                  
          	
                                        
   </div>
        


    <div class="col-sm-8"> 
      <div class="panel panel-default">
           <div class="panel-heading">
             <h3 class="panel-title">Stream
               <span class="label label-info hide" id="status"></span>
               <span class="label label-primary hide" id="curres"></span>
               <span class="label label-info hide" id="curbitrate"></span>
               <span class="btn-group btn-group-sm">
                 <button class="btn btn-primary" autocomplete="off" id="watch">Watch or Listen</button>
                    <span class="btn-group btn-group-sm">
                      <button autocomplete="off" id="streamset" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                        Streams list<span class="caret"></span>
                      </button>
                      <ul id="streamslist" class="dropdown-menu" role="menu">
                      </ul>
                    </span>
               </span>
              </h3>
           </div>
           <div class="panel-body" id="stream"></div>
         </div>
  
      <div class="bottom-left">
          <h7><span id="airspeed">Top Left</span></h7>
      </div>

      <div class="bottom-right">
      					
                        <div id="map"></div>
                        <script src="static/js/index.js"></script>
                        <link rel="stylesheet" type="text/css" href="static/css/map.css" />

      </div>

    </div>
                        

    <div class="col-sm-2 sidenav">
     
		      <div class="well">
		        <p>ADS</p>
		        <div id="gamepadPrompt"></div>
		<div id="gamepadDisplay">
                    <script>
                     var globmsg = null;
                        var source = new EventSource('/api/sse/state');
                        
                    var scene = new THREE.Scene();
                    var camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 1, 10000);
                    var renderer = new THREE.WebGLRenderer();
                    
                    $('#gamepadDisplay')[0].appendChild(renderer.domElement);
                    var geometry = new THREE.BoxGeometry(600, 600, 600, 10, 10, 10);
                    var material = new THREE.MeshBasicMaterial({color: 0xfffff, wireframe: true});
                    var cube = new THREE.Mesh(geometry, material);
                    scene.add(cube);
                    camera.position.z = 1000;  
                    source.onmessage = function(event) {
                            var msg = JSON.parse(event.data);
                            if (!globmsg) {
                                
                                cube.rotation.x = msg.pitch;
                                cube.rotation.y = - msg.yaw;
                                cube.rotation.z = msg.roll;

                            }
                        }      
                    function render() {
                    requestAnimationFrame(render);
                    
                    
                    renderer.render(scene, camera);
                    };
                    render();
                    </script>

    </div>

		      </div>
		      

          
	</div>


</body>
</html>